(()=>{"use strict";var a={p:""};a.p=document.getElementById("webpack-public-path").innerText+"Js/",(()=>{const a=13;StackExchange=window.StackExchange=window.StackExchange||{},StackOverflow=window.StackOverflow=window.StackOverflow||{},window.auth={currentPage:null,pages:{SignUp:1,Login:2,AddLogin:3,Password:4},getSsrc:function(a){var e=$('#login-form input[name="ssrc"]'),t=void 0;return e&&1===e.length&&(t=e.val()),t||(t=a),t},init:function(e){auth.currentPage=e;var t=[],n=[],i=[],s=[],r=null,o=null,c=null,p=null;if($("#openid-buttons").on("click","[data-provider]",(function(a){e===auth.pages.Login&&StackExchange.using("gps",(function(){StackExchange.gps.track("login.start",{tid:StackExchange.options.user.tid},!0)}));var t=$(this).data("provider");if(t){var n=!1;e===auth.pages.SignUp&&(StackExchange.using("gps",(function(){StackExchange.gps.track("signup.start",{openid_provider:t,location:auth.getSsrc("signup_page"),tid:StackExchange.options.user.tid},!0)})),n=!0),auth.signin($(this),a,n)}})),e===auth.pages.SignUp){var u=$("#se-login-fields");$(u).on("keyup","input[name=password],input[name=display-name],input[name=email]",(function(a){var e=$(a.target);if(!e.data("entered")){var t="signup."+e.attr("name").replace("display-","")+".entered";StackExchange.using("gps",(function(){StackExchange.gps.track(t,{},!0)})),e.data("entered",!0),StackExchange.options.mustTrackSignupStartForResearchRecruitment&&!u.data("entered")&&($.ajax("/urr/signup-start"),u.data("entered",!0))}})),$("#se-login-fields").on("click","#submit-button",(function(){StackExchange.using("gps",(function(){StackExchange.gps.track("signup.se.click",{},!0)}))})),$(".js-terms").on("click","a[name=privacy],a[name=tos]",(function(a){var e="signup."+$(a.target).attr("name")+".click";StackExchange.using("gps",(function(){StackExchange.gps.track(e,{},!0)}))})),$(".js-redirects").on("click","a[name=login],a[name=talent]",(function(a){var e="signup."+$(a.target).attr("name")+"_redirect";StackExchange.using("gps",(function(){StackExchange.gps.track(e,{},!0)}))}))}var l=$('<p class="s-input-message fc-red-500"></p>').text(__tr(["Caps lock is on"], undefined, "en", [])),g=$(".js-password"),d=!1;g.keypress((function(a){var e=String.fromCharCode(a.which);if(/[a-z]/i.test(e)){var t=e==e.toUpperCase();d=t&&!a.shiftKey}var n=!1===document.msCapsLockWarningOff;d&&!n?g.after(l):l.remove()})),g.find("input").blur((function(){l.remove()}));var h=!1,m=!1;$("#login-form input").blur((function(a){e===auth.pages.SignUp&&(""==$(a.target).val()||h||(StackExchange.gps.track("signup.start",{openid_provider:"Stack Exchange",location:auth.getSsrc("signup_page"),tid:StackExchange.options.user.tid},!0),h=!0)),e===auth.pages.Login&&(""==$(a.target).val()||m||(StackExchange.gps.track("login.start",{tid:StackExchange.options.user.tid},!0),m=!0))})),$("#login-form input[type='text'], #login-form input[type='password'], #login-form input[type='email']").keypress((function(t){if(t.which===a)return $("#submit-button").is(":hidden")||e===auth.pages.AddLogin?$("#login-form").submit():$("#login-form #submit-button").click(),t.preventDefault(),!1}));var f=function(a,e){if(a.length>0){if(null!=e){for(var t=!0,n=0;n<a.length;n++)if(a[n].message==e.message){t=!1;break}a[0].changed=t}return a[0]}},v=function(a){var e,t,n;null!=a&&a.changed&&(e=a.attachTo,t=a.message,(n=e.closest(".js-auth-item")).addClass("has-error"),n.find(".js-alert-icon").removeClass("d-none"),n.find(".js-error-message").removeClass("d-none").append(t))},k=function(){v(r),v(o),v(p),v(c)},S=function(){t=[],n=[],i=[],s=[],r=null,o=null,c=null,p=null,$(".js-auth-item").removeClass("has-error"),$(".js-alert-icon").addClass("d-none"),$(".js-error-message").addClass("d-none").empty()},x=function(a,e,t){for(var n,i="all"===e,s=0;s<a.length&&(a[s].id!=e&&!i||(a.splice(s,1),i));s++);t&&((n=t.closest(".js-auth-item")).removeClass("has-error"),n.find(".js-alert-icon").addClass("d-none"),n.find(".js-error-message").addClass("d-none").empty())},_=StackExchange.Auth.addOrUpdateError,w=function(){var a,u,l;return function(a){var t=$("input[name = 'password']");if(0!==$.trim(t.val()).length||a?x(n,"pw-empty",t):_(n,{id:"pw-empty",index:0,attachTo:t,message:__tr(["Password cannot be empty."], undefined, "en", [])}),e===auth.pages.SignUp||e===auth.pages.Password){StackExchange.Auth.passwordStrengthValidation(t,n,x);var i=$.trim(t.val()),s=$('input[name="password2"]');if(s.length){var r=$.trim(s.val());0===r.length?_(n,{id:"pw-empty2",index:3,attachTo:s,message:__tr(["Password confirmation cannot be empty."], undefined, "en", [])}):x(n,"pw-empty2",s),r.length>0&&i!==r?_(n,{id:"pw-match",index:4,attachTo:s,message:__tr(["The passwords do not match."], undefined, "en", [])}):x(n,"pw-match",s)}if(StackExchange.settings.accounts.currentPasswordRequiredForChangingStackIdPassword){var o=$('input[name="currentpassword"]');o.length&&(0===$.trim(o.val()).length?_(n,{id:"curpw-empty",index:0,attachTo:o,message:__tr(["Current password cannot be empty."], undefined, "en", [])}):x(n,"curpw-empty",o))}}}(),e===auth.pages.SignUp&&(!function(){var a=$.trim($("input[name='email']").val()).toUpperCase(),e=$("input[name='display-name']"),t=$.trim(e.val()).toUpperCase(),n=e.data("is-teams");if(n&&""===$.trim(t)){var s=$("label[for='"+e.attr("id")+"']"),r=s.text()?s.text()+" cannot be empty":"Cannot be empty";_(i,{id:"missing",index:0,attachTo:e,message:r,faileType:"name_blank"})}else c&&"missing"===c.id&&x(i,"missing",e);if(a===t&&""!=a){var o=__tr(["Name and email address must be different."], undefined, "en", []),p=__tr(["Name and email address must be different. If you don't want to enter a name, just leave it blank."], undefined, "en", []);_(i,{id:"nm",index:1,attachTo:e,message:n?o:p,faileType:"name_email_same"})}else c&&"nm"===c.id&&x(i,"nm",e)}(),a=$("#no-captcha-here iframe").length>0,u=$(".js-catpcha-error-container"),a&&(grecaptcha.getResponse().length>0?x(s,"cp",u):_(s,{id:"cp",index:0,attachTo:u,message:__tr(["CAPTCHA response required."], undefined, "en", [])}))),e!=auth.pages.Password&&(l=$("input[name='email']"),0===$.trim(l.val()).length?_(t,{id:"em-empty",index:0,attachTo:l,message:__tr(["Email cannot be empty."], undefined, "en", [])}):x(t,"em-empty",l)),r=f(t,r),o=f(n,o),c=f(i,c),p=f(s,p),null==r&&null==o&&null==c&&null==p},E=!0;$("#login-form #submit-button").click((function(a){var n={isSignup:e===auth.pages.SignUp,isLogin:e===auth.pages.Login,isPassword:e===auth.pages.Password,isAddLogin:e===auth.pages.AddLogin};return $("#login-form #submit-button").addClass("is-loading"),S(),$("#login-form input").each((function(a,e){var t=$(e).attr("name");t&&(t=t.replace(/(\W|_)/gi,""),n[t]=$(e).val())})),$.ajax({url:"/users/login-or-signup/validation/track",data:n,type:"POST",complete:function(){$("#login-form #submit-button").removeClass("is-loading");var a=w();E&&($("#login-form input").blur((function(){if(w(),e===auth.pages.SignUp){var a=$("#login-form input[name='email']"),n=$.trim(a.val());x(t,"em-ajax"),$.ajax({type:"POST",url:"/users/signup/email/validate",data:{email:n,fkey:StackExchange.options.user.fkey},success:function(n){e!==auth.pages.AddLogin&&(n.IsValid?r=null:(_(t,{id:"em-ajax",index:1,attachTo:a,message:n.ErrorMessage}),r=f(t,r)))},complete:function(){k()}})}else k()})),E=!1),a?$("#login-form").submit():k()}}),a.preventDefault(),!1})),$("#se-pw-reset").submit((function(a){S();var e=w();return e||(k(),a.preventDefault()),e}))},removeAllErrors:function(){},signin:function(a,e,t){var n=a.data?function(a){var e={name:a.data("provider")};a.data("oauthserver")&&(e.oauth_server=a.data("oauthserver"));a.data("oauthversion")&&(e.oauth_version=a.attr("data-oauthversion"));return e}(a):a;function i(a,e){var t="users_login";auth.currentPage===auth.pages.SignUp&&(t="signup_page",e||StackExchange.using("gps",(function(){StackExchange.gps.track("signup.start",{openid_provider:a,location:auth.getSsrc(t),tid:StackExchange.options.user.tid},!0)})),a&&StackExchange.using("gps",(function(){StackExchange.gps.track("signup.openid.click",{openid_provider:a,location:t},!0)}))),a&&StackExchange.using("gps",(function(){StackExchange.gps.track("openid.click",{openid_provider:a,location:t},!0)}))}n&&("stack_exchange"!==n.name?(i(n.name.replace(/_/g," "),t),"2.0"===n.oauth_version&&this.setOAuthInfo(n.oauth_version,n.oauth_server),$("#login-form").submit()):i("Stack Exchange",t))},setOAuthInfo:function(a,e){$("#oauth_version").val(a),$("#oauth_server").val(e)}}})()})();